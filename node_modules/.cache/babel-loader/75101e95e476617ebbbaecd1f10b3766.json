{"ast":null,"code":"var _jsxFileName = \"/Users/hadasch/PycharmProjects/front_end/src/components/SetData/UploadForm.js\";\nimport React, { useState } from \"react\";\nimport * as Upload from \"../../services/Upload\";\nimport { useHistory } from \"react-router-dom\";\nimport transperantBackground from '../../transperantBackground.png';\nexport default function UploadForm({\n  onSetName\n}) {\n  const [name, setName] = useState(\"\");\n  const [cytokinesFile, setCytokines] = useState(null);\n  const [patientsFile, setPatients] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [Cytoerror, setCytoError] = useState(false);\n  const [Nameerror, setNameError] = useState(false);\n  const [id, setID] = useState('');\n  const history = useHistory();\n\n  async function onSubmit(event) {\n    setNameError(false);\n    setCytoError(false);\n    event.preventDefault();\n    const result = Upload.upload(name, cytokinesFile, patientsFile).then(response => {\n      setNameError(false);\n      setCytoError(false);\n      onSetName(name, response.data.id);\n      setSuccess(true);\n    }).catch(e => {\n      if (e.message == 'Request failed with status code 403') setNameError(true);else setCytoError(true);\n    });\n  }\n\n  function navigateTo(route) {\n    history.push(`/${route}`);\n  }\n\n  return React.createElement(\"div\", {\n    style: {\n      backgroundImage: `url(${transperantBackground})`\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Upload your data\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Please upload 2 excel files: one for the cytokines raw data and the other one for the patients\\u2019 data. For outcome analysis, patients\\u2019 data must be inserted as an additional file. Please note that all of the data you provide will not be shared with anyone and will not be deleted from the server within 1 week of upload.\"), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Project Name:\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Insert the name of the data/chort\"), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \" Name: \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name_data\",\n    placeholder: \"Your project name\",\n    onChange: event => setName(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), Nameerror && React.createElement(\"medium\", {\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"please insert your project's name\"), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Cytokines Data:\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Insert cytokines data file. The file should be in .xlsx format and all values should be numeric. i.e - if cutokines values are below or above the normal values and presented as \\\">\\\", a numeric value should be inserted instead.\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"If the data was collected using Luminex, the Luminex output file can be inserted. However, it should be marked in the right place when setting the analysis parameters. The values should also be numeric only in this case\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Each column should correspond to a different cytokine value and each row corresponds to the cytokine profile of a single subject\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"The first column should be the subject IDs or a numerical index\"), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \" Cytokines Data: \"), React.createElement(\"input\", {\n    type: \"file\",\n    name: \"cytokines\",\n    onChange: event => setCytokines(event.target.files[0]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), Cytoerror && React.createElement(\"medium\", {\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"please insert cytokine data\"), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Sample Demographics and Clinical Outcomes (Optional):\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Upload a de-identified patient data file. The file should be in .xlsx format. Please make sure no personal identifiable information (e.g. patient name, id number) is uploaded within this file. \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"This table should contain clinical outcomes/phenotypes (e.g. hospitalization, disesase severity) and any additional demographic data that you would like the computational model to consider when assessing associations of cytokine modules and clinical outcomes/phenotypes. \"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \" Important: make sure binary outcome columns only contain 0/1 values.or True/False values. Entries with unknown values should be left empty or (NA) File can have multiple clinical outcomes/phenotype columns as well as multiple demographic columns.The first column of this file should be the sample id (de-identified)   or a numerical index. Here is an example format \"), \"ID Out1 Out2 Out3 Out4 Binary Out Age 1001 241.5 135 72 34.5 1 9.14 1002 0 0 0 0 0 36.78 1003 179 114 65 0 0 47.28 1004     0 0.07 1005     0 26.09 1006 0 0 0 0 0 21.17 1007 0 0 0 0 0 24.62 1008 149 64 49 36 1 27.77 1009 120 35 50 35 1 42.32 1010 377 185 150 7 1 41.43 1011     0 44.96 1012 370 165 85 120 1 47.85\", React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Demographics and Clinical Outcomes Data:\"), React.createElement(\"input\", {\n    type: \"file\",\n    name: \"patients\",\n    onChange: event => setPatients(event.target.files[0]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    onClick: event => onSubmit(event),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), success && navigateTo(\"set/parameters\")));\n}","map":{"version":3,"sources":["/Users/hadasch/PycharmProjects/front_end/src/components/SetData/UploadForm.js"],"names":["React","useState","Upload","useHistory","transperantBackground","UploadForm","onSetName","name","setName","cytokinesFile","setCytokines","patientsFile","setPatients","success","setSuccess","Cytoerror","setCytoError","Nameerror","setNameError","id","setID","history","onSubmit","event","preventDefault","result","upload","then","response","data","catch","e","message","navigateTo","route","push","backgroundImage","target","value","files"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport * as Upload from \"../../services/Upload\"\nimport { useHistory } from \"react-router-dom\";\nimport transperantBackground from '../../transperantBackground.png'\n\n\nexport default function UploadForm({onSetName}) {\n  const [name, setName] = useState(\"\");\n  const [cytokinesFile, setCytokines] = useState(null)\n  const [patientsFile, setPatients] = useState(null)\n  const [success, setSuccess] = useState(false)\n  const [Cytoerror, setCytoError] = useState(false);\n  const [Nameerror, setNameError] = useState(false);\n  const [id, setID] = useState('');\n  const history = useHistory();\n\n\n  async function onSubmit(event) {\n    setNameError(false);\n    setCytoError(false);\n    event.preventDefault();\n    const result = Upload.upload(name, cytokinesFile, patientsFile)\n      .then((response) => {\n        setNameError(false);\n        setCytoError(false);\n        onSetName(name, response.data.id)\n        setSuccess(true);\n      })\n      .catch((e) => {\n        if(e.message == 'Request failed with status code 403')\n          setNameError(true)\n        else\n          setCytoError(true);\n      });\n  }\n\n  function navigateTo(route) {\n    history.push(`/${route}`);\n  }\n\n  return (\n    <div style={{backgroundImage: `url(${transperantBackground})`}}>\n        <h1>Upload your data</h1>\n        <p>Please upload 2 excel files: one for the cytokines raw data and the other one for the patients’ data. \n          For outcome analysis, patients’ data must be inserted as an additional file.\n          Please note that all of the data you provide will not be shared with anyone and will not be deleted from the server within 1 week of upload.\n        </p>\n        <form>\n        <h3>Project Name:</h3>\n            <p>Insert the name of the data/chort</p> \n            <label> Name: </label>\n          <input type=\"text\" name=\"name_data\" placeholder=\"Your project name\" onChange={event => setName(event.target.value)}/>\n          {Nameerror && <medium className='error'>please insert your project's name</medium>}\n          <h3>Cytokines Data:</h3>\n          <p>\n          <p>Insert cytokines data file. The file should be in .xlsx format and all values should be numeric. i.e - if cutokines values are below or above the normal values and presented as \">\", a numeric value should be inserted instead.</p> \n          <p>If the data was collected using Luminex, the Luminex output file can be inserted. However, it should be marked in the right place when setting the analysis parameters. The values should also be numeric only in this case</p> \n          <p>Each column should correspond to a different cytokine value and each row corresponds to the cytokine profile of a single subject</p>\n          <p>The first column should be the subject IDs or a numerical index</p>\n          <label> Cytokines Data: </label>\n           <input type = \"file\" name = \"cytokines\" onChange={event => setCytokines(event.target.files[0])} />\n          </p>\n          {Cytoerror && <medium className='error'>please insert cytokine data</medium>}\n          <h3>Sample Demographics and Clinical Outcomes (Optional):</h3>\n            <p>\n            <p>Upload a de-identified patient data file. The file should be in .xlsx format. Please make sure no personal identifiable information (e.g. patient name, id number) is uploaded within this file. </p> \n            <p>This table should contain clinical outcomes/phenotypes (e.g. hospitalization, disesase severity) and any additional demographic data that you would like the computational model to consider when assessing associations of cytokine modules and clinical outcomes/phenotypes. </p>\n            <p> Important: make sure binary outcome columns only contain 0/1 values.or True/False values. Entries with unknown values should be left empty or (NA) File can have multiple clinical outcomes/phenotype columns as well as multiple demographic columns.The first column of this file should be the sample id (de-identified)   or a numerical index. Here is an example format </p>\n            ID\tOut1\tOut2\tOut3\tOut4\tBinary Out\tAge\n1001\t241.5\t135\t72\t34.5\t1\t9.14\n1002\t0\t0\t0\t0\t0\t36.78\n1003\t179\t114\t65\t0\t0\t47.28\n1004\t\t\t\t\t0\t0.07\n1005\t\t\t\t\t0\t26.09\n1006\t0\t0\t0\t0\t0\t21.17\n1007\t0\t0\t0\t0\t0\t24.62\n1008\t149\t64\t49\t36\t1\t27.77\n1009\t120\t35\t50\t35\t1\t42.32\n1010\t377\t185\t150\t7\t1\t41.43\n1011\t\t\t\t\t0\t44.96\n1012\t370\t165\t85\t120\t1\t47.85\n            <label>Demographics and Clinical Outcomes Data:</label>\n            <input type = \"file\" name = \"patients\" onChange={event => setPatients(event.target.files[0])} />\n            </p>\n            <input type=\"submit\" value=\"Submit\" onClick={(event) => onSubmit(event)} />\n            {/* {success &&  <div style={{color: '#0B7478'}}>SUCCESS! your data was uploaded. please set your params</div>}  */}\n            {success &&  navigateTo(\"set/parameters\")}  \n    \n            \n            </form>\n        </div>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}